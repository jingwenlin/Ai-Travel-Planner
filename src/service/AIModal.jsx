// const {
//     GoogleGenerativeAI,
//     HarmCategory,
//     HarmBlockThreshold,
//   } = require("@google/generative-ai");
  import { GoogleGenerativeAI } from "@google/generative-ai";



  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a comprehensive travel plan for Las Vegas for a couple on a budget, formatted in JSON.  It includes hotel options, a detailed 3-day itinerary, and all the requested information.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n    \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Approx. $40 - $80 per night\",\n      \"hotelImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/d6/04/25/circus-circus-hotel-casino.jpg?w=700&h=500&s=1\",\n       \"geoCoordinates\": { \"latitude\": 36.1230, \"longitude\": -115.1689 },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a carnival theme, affordable rooms, and family-friendly attractions. Located on the north end of the Strip.\"\n    },\n      {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Approx. $50 - $90 per night\",\n      \"hotelImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/03/15/25/exterior.jpg?w=700&h=500&s=1\",\n      \"geoCoordinates\": { \"latitude\": 36.0988, \"longitude\": -115.1738 },\n      \"rating\": 3.8,\n      \"description\": \"A medieval-themed hotel with budget-friendly rooms, dining, and entertainment. Situated on the southern part of the Strip.\"\n        },\n       {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"Approx. $35 - $75 per night\",\n      \"hotelImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/3f/a7/49/oyo-hotel-casino-las-vegas.jpg?w=700&h=500&s=1\",\n      \"geoCoordinates\": { \"latitude\": 36.0990, \"longitude\": -115.1697 },\n      \"rating\": 3.2,\n     \"description\": \"A budget-friendly option near the Strip with basic amenities and access to various attractions.\"\n      }\n\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South)\",\n       \"bestTimeToVisit\": \"Late morning to evening\",\n      \"places\": [\n          {\n           \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n           \"placeDetails\": \"Iconic sign for photos. Free to visit.\",\n           \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Welcome_to_Fabulous_Las_Vegas_sign_December_2017_1.jpg/800px-Welcome_to_Fabulous_Las_Vegas_sign_December_2017_1.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.0828, \"longitude\": -115.1723 },\n           \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n           \"timeTravel\": \"10 minutes (from most south strip hotels)\"\n         },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning floral displays. Free entry.\",\n          \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/a9/c0/86/bellagio-conservatory-botanical.jpg?w=700&h=500&s=1\",\n            \"geoCoordinates\": { \"latitude\": 36.1127, \"longitude\": -115.1756 },\n          \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n          \"timeTravel\": \"15-20 minutes walking south from welcome sign/5 minute by cab\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Spectacular water show. Free to watch.\",\n          \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/28/03/92/caption.jpg?w=700&h=500&s=1\",\n             \"geoCoordinates\": { \"latitude\": 36.1125, \"longitude\": -115.1742 },\n          \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n            \"timeTravel\": \"Adjacent to Bellagio Conservatory\"\n        },\n         {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Giant Ferris wheel with great city views, especially during sunset (optional if budget allows, consider discount tickets online)\",\n           \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/19/6c/df/79/high-roller-observation.jpg?w=700&h=500&s=1\",\n             \"geoCoordinates\": { \"latitude\": 36.1179, \"longitude\": -115.1695 },\n          \"ticketPricing\": \"Approx. $30 per person\",\n             \"rating\": 4.6,\n          \"timeTravel\": \"10 minute walking from Bellagio/5 minute by cab\"\n         }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown and Fremont Experience\",\n      \"bestTimeToVisit\": \"Late afternoon to night\",\n       \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a light show, street performers, and free concerts.\",\n           \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/0d/85/83/fremont-street-experience.jpg?w=700&h=500&s=1\",\n            \"geoCoordinates\": { \"latitude\": 36.1698, \"longitude\": -115.1400 },\n          \"ticketPricing\": \"Free\",\n             \"rating\": 4.4,\n          \"timeTravel\": \"20-30 minutes by car or bus from the strip\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping area made of shipping containers. Great for photos and exploring.\",\n          \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/96/a4/4b/container-park.jpg?w=700&h=500&s=1\",\n             \"geoCoordinates\": { \"latitude\": 36.1708, \"longitude\": -115.1378 },\n          \"ticketPricing\": \"Free to enter\",\n             \"rating\": 4.2,\n          \"timeTravel\": \"5 minutes walking from Fremont Street\"\n         },\n          {\n           \"placeName\": \"Golden Nugget Casino\",\n          \"placeDetails\": \"Historic casino with the Hand of Faith gold nugget. Free to walk around and see. \",\n            \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/5c/56/b1/pool-at-the-golden-nugget.jpg?w=700&h=500&s=1\",\n              \"geoCoordinates\": { \"latitude\": 36.1709, \"longitude\": -115.1425 },\n          \"ticketPricing\": \"Free\",\n              \"rating\": 4.3,\n          \"timeTravel\": \"5 minutes walking from Fremont Street\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring the Strip (North) and Departure\",\n        \"bestTimeToVisit\":\"Morning to early afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"The Venetian & Grand Canal Shoppes\",\n          \"placeDetails\": \"Italian-themed hotel and shopping area with gondola rides (optional, extra cost). Free to walk around.\",\n          \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/20/b3/34/93/the-venetian-resort-las.jpg?w=700&h=500&s=1\",\n             \"geoCoordinates\": { \"latitude\": 36.1210, \"longitude\": -115.1697 },\n          \"ticketPricing\": \"Free to enter\",\n            \"rating\": 4.6,\n          \"timeTravel\": \"20 minutes by car/cab or 40 minutes bus from downtown\"\n\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Free volcano show with fire and explosions. Check showtimes.\",\n          \"placeImageURL\": \"https://dynamic-media-cdn.trip"},
          ],
        },
      ],
    });
  
